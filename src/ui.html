<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    :root {
      --color-bg: var(--figma-color-bg);
      --color-bg-secondary: var(--figma-color-bg-secondary);
      --color-bg-hover: var(--figma-color-bg-hover);
      --color-bg-active: var(--figma-color-bg-pressed);
      --color-bg-disabled: var(--figma-color-bg-disabled);
      --color-border: var(--figma-color-border);
      --color-border-focus: var(--figma-color-border-selected);
      --color-text: var(--figma-color-text);
      --color-text-tertiary: var(--figma-color-text-tertiary);
      --color-text-disabled: var(--figma-color-text-disabled);
      --color-bg-brand: var(--figma-color-bg-brand);
      --color-bg-brand-hover: var(--figma-color-bg-brand-hover);
      --color-bg-brand-active: var(--figma-color-bg-brand-pressed);
      --color-text-onbrand: var(--figma-color-text-onbrand);
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
        Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      background: var(--color-bg);
      color: var(--color-text);
      margin: 16px;
    }

    textarea {
      width: 100%;
      height: 200px;
      background: var(--color-bg-secondary);
      color: var(--color-text);
      border: 1px solid var(--color-border);
      border-radius: 4px;
      padding: 4px;
    }

    textarea:focus-visible {
      outline: none;
      border-color: var(--color-border-focus);
    }

    textarea::placeholder {
      color: var(--color-text-tertiary);
    }

    button {
      margin-top: 8px;
      background: var(--color-bg-brand);
      color: var(--color-text-onbrand);
      border: none;
      border-radius: 4px;
      padding: 4px 8px;
      cursor: pointer;
    }

    button:disabled {
      background: var(--color-bg-disabled);
      color: var(--color-text-disabled);
      cursor: default;
    }

    button:hover {
      background: var(--color-bg-brand-hover);
    }

    button:active {
      background: var(--color-bg-brand-active);
    }

    button:focus-visible {
      outline: none;
      box-shadow: 0 0 0 2px var(--color-border-focus);
    }
  </style>
</head>
<body>
  <h2>Paste CSS Variables</h2>
  <textarea id="cssInput" placeholder="--primary: #ff0000;\n--spacing: 8px;"></textarea>
  <br />
  <button id="import">Import</button>
  <script>
    const textarea = document.getElementById('cssInput');
    const importBtn = document.getElementById('import');

    function updateButtonState() {
      importBtn.disabled = textarea.value.trim().length === 0;
    }

    textarea.addEventListener('input', updateButtonState);
    updateButtonState();

    importBtn.onclick = () => {
      const css = textarea.value;
      parent.postMessage({ pluginMessage: { type: 'import-css', css } }, '*');
    };
  </script>
</body>
</html>
